---
layout: default
lang: cn
permalink: /test.html
---

<div id="myTabContent" class="tab-content">
{%- assign post_num = 1 -%}
{%- assign pagenum = 1 -%}
<div class="tab-pane fade in active" id="page{{ pagenum }}">
{%- for post in site.posts -%}
{%- if post.lang contains page.lang -%}
<a href="{{ post.url }}" target="_blank">{{ post.title }}</a>
  {%- if post_num == site.paginatenum -%}
    {%- assign post_num = 1 -%}
{%- unless forloop.last -%}
    {%- assign pagenum = pagenum | plus: 1 -%}
</div>
<div class="tab-pane fade" id="page{{ pagenum }}">
    {%- endunless -%}
  {%- else -%}
    {%- assign post_num = post_num | plus: 1 -%}
  {%- endif -%}
{%- endif -%}
{%- endfor -%}
</div>
</div>
<ul id="myTab" class="pagination">
<li><a id="pre_btn" href="#">&laquo;</a></li>
{%- for countnum in (1..pagenum) -%}
<li{% if forloop.first %} class="active"{% endif %}><a href="{{ page.permalink }}#page{{ countnum }}" onclick="window.location.replace('{{ page.permalink }}#page{{ countnum }}');" data-toggle="tab">{{ countnum }}</a></li>
{%- endfor -%}
<li><a id="next_btn" href="#">&raquo;</a></li>
</ul>
<div id="showpage"></div>
<script>
    $(function () {
      $('#myTab a[href="{{ page.permalink }}'+window.location.hash+'"]').tab('show');
      di();
      $('#myTab a').click(function (e) {
        di();
      });
      function di(){
        var showpage = document.getElementById("showpage");
        var pre_btn = document.getElementById("pre_btn");
        var next_btn = document.getElementById("next_btn");
        var currentindex = parseInt((!window.location.hash)?1:window.location.hash.replace("#page",""));
        var val = currentindex + '<br/>';
        //previous
        preindex = currentindex - 1;
        if(preindex<1){
          val = val + '{{ page.permalink }}#page1<br/>';
          pre_btn.href='{{ page.permalink }}#page1';
        }else{
          val = val + '{{ page.permalink }}#page' + preindex + '<br/>';
          pre_btn.href='{{ page.permalink }}#page'+preindex;
        }
        //next
        nextindex = currentindex + 1;
        if(nextindex>{{ pagenum }}){
          val = val + '{{ page.permalink }}#page{{ pagenum }}<br/>';
          next_btn.href='{{ page.permalink }}#page{{ pagenum }}';
        }else{
          val = val + '{{ page.permalink }}#page' + nextindex + '<br/>';
          next_btn.href='{{ page.permalink }}#page' + nextindex;
        }
        showpage.innerHTML = val;
      }
    });
</script>
