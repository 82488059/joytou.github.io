---
layout: default
lang: cn
permalink: /test.html
---

<div id="myTabContent" class="tab-content">
{%- assign post_num = 1 -%}
{%- assign pagenum = 1 -%}
<div class="tab-pane fade in active" id="page{{ pagenum }}">
{%- for post in site.posts -%}
{%- if post.lang contains page.lang -%}
<a href="{{ post.url }}" target="_blank">{{ post.title }}</a>
  {%- if post_num == site.paginatenum -%}
    {%- assign post_num = 1 -%}
{%- unless forloop.last -%}
    {%- assign pagenum = pagenum | plus: 1 -%}
</div>
<div class="tab-pane fade" id="page{{ pagenum }}">
    {%- endunless -%}
  {%- else -%}
    {%- assign post_num = post_num | plus: 1 -%}
  {%- endif -%}
{%- endif -%}
{%- endfor -%}
</div>
</div>
<ul id="myTab" class="pagination">
<li><a id="prepage">&laquo;</a></li>
{%- for countnum in (1..pagenum) -%}
<li{% if forloop.first %} class="active"{% endif %}><a href="{{ page.permalink }}#page{{ countnum }}" onclick="window.location.replace('{{ page.permalink }}#page{{ countnum }}');" data-toggle="tab">{{ countnum }}</a></li>
{%- endfor -%}
<li><a id="nextpage">&raquo;</a></li>
</ul>
<script>
    $(function () {
        $('#myTab a[href="{{ page.permalink }}'+window.location.hash+'"]').tab('show');
        var index = parseInt(window.location.hash?"1":window.location.hash.replace("#page",""));
        var pre_btn = document.getElementById("prepage");
        var next_btn = document.getElementById("nextpage");
        pre_btn.click(function(){
          change_page(index-1);
        })
        next_btn.click(function(){
          change_page(index+1);
        })
    function change_page(index){
      if(index<1){
        var val = "{{ page.permalink }}#page1";
      }else if(index>{{ pagenum }}){
        var val = "{{ page.permalink }}#page{{ pagenum }}";
      }else{
        var val = "{{ page.permalink }}#page"+index;
      }
      window.location.replace(val);
    }
    });
</script>
